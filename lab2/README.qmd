---
title: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ 2"
format:
  md:
    output-file: README.md
editor: visual
---

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

1.  –†–∞–∑–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è R –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö;
2.  –ó–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞ R;
3.  –†–∞–∑–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞ dplyr -- —Ñ—É–Ω–∫—Ü–∏–∏ select(), filter(), mutate(), arrange(), group_by().

## –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

1.  –û–° Windows;
2.  –ü–∞–∫–µ—Ç dplyr;
3.  RStudio.

## –ü–ª–∞–Ω

1.  –ò—Å–ø–æ–ª—å–∑—É–µ–º RStudio;
2.  –°–∫–∞—á–∞—Ç—å –ø–∞–∫–µ—Ç dplyr;
3.  –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø–∞–∫–µ—Ç dplyr –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö starwars —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ R;
4.  –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç.

## –û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–æ–≤:

1.  –í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è RStudio.

2.  –°–∫–∞—á–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç dplyr.
    ![](screenshot/loading.png)

3.  –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø–∞–∫–µ—Ç dplyr –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö starwars.

```{r}
library(dplyr)
```

–í–æ–ø—Ä–æ—Å 1.  –°–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –≤ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ?

```{r}
starwars %>% nrow()
```

–í–æ–ø—Ä–æ—Å 2.  –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ?

```{r}
starwars %>% ncol()
```

–í–æ–ø—Ä–æ—Å 3.  –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—ã–π –≤–∏–¥ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞?

```{r}
starwars %>% glimpse()
```

–í–æ–ø—Ä–æ—Å 4.  –°–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (species) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –¥–∞–Ω–Ω—ã—Ö?

```{r}
starwars %>% distinct(species)
```

```{r}
length(unique(starwars$species))
```

–í–æ–ø—Ä–æ—Å 5.  –ù–∞–π—Ç–∏ —Å–∞–º–æ–≥–æ –≤—ã—Å–æ–∫–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

```{r}
starwars %>% arrange(desc(height)) %>% slice(1:1) %>% select(name)
```

–í–æ–ø—Ä–æ—Å 6.  –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –Ω–∏–∂–µ 170.

```{r}
starwars %>% filter(height < 170) %>% pull(name)
```

–í–æ–ø—Ä–æ—Å 7.  –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –ò–ú–¢ (–∏–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞) –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. –ò–ú–¢ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –ø–æ —Ñ–æ—Ä–º—É–ª–µ ùêº = ùëö/‚Ñé2 , –≥–¥–µ ùëö-- –º–∞—Å—Å–∞ (weight), –∞ ‚Ñé -- —Ä–æ—Å—Ç (height).

```{r}
starwars %>% mutate("–ò–ú–¢" = mass/(height*height)) %>% select(name,–ò–ú–¢)
```

–í–æ–ø—Ä–æ—Å 8.  –ù–∞–π—Ç–∏ 10 —Å–∞–º—ã—Ö "–≤—ã—Ç—è–Ω—É—Ç—ã—Ö" –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. "–í—ã—Ç—è–Ω—É—Ç–æ—Å—Ç—å" –æ—Ü–µ–Ω–∏—Ç—å –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –º–∞—Å—Å—ã (mass) –∫ —Ä–æ—Å—Ç—É (height) –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.

```{r}
starwars %>% mutate("–í—ã—Ç—è–Ω—É—Ç–æ—Å—Ç—å" = mass/height) %>% arrange(desc(–í—ã—Ç—è–Ω—É—Ç–æ—Å—Ç—å)) %>% slice(1:10) %>% select(name,–í—ã—Ç—è–Ω—É—Ç–æ—Å—Ç—å)
```

–í–æ–ø—Ä–æ—Å 9. –ù–∞–π—Ç–∏ —Å—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∫–∞–∂–¥–æ–π —Ä–∞—Å—ã –≤—Å–µ–ª–µ–Ω–Ω–æ–π –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–π–Ω.

```{r}
starwars %>%  group_by(species) %>% filter(!is.na(birth_year)) %>% summarise('–°—Ä–µ–¥–Ω–µ–µ' = mean(birth_year)) %>% select(species, –°—Ä–µ–¥–Ω–µ–µ) 
```

–í–æ–ø—Ä–æ—Å 10. –ù–∞–π—Ç–∏ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç –≥–ª–∞–∑ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–π–Ω.

```{r}
starwars %>% filter(!is.na(eye_color)) %>%  group_by(eye_color) %>% summarise('–ö–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ'= n()) %>% arrange(desc(–ö–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ)) %>% select(eye_color, –ö–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ) %>% slice(1)
```

–í–æ–ø—Ä–æ—Å 11. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω—é—é –¥–ª–∏–Ω—É –∏–º–µ–Ω–∏ –≤ –∫–∞–∂–¥–æ–π —Ä–∞—Å–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–π–Ω.

```{r}
starwars %>% mutate(len=nchar(name))  %>% group_by(species) %>% summarise('mean' = mean(len)) %>% select(species,mean)
```

## –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è RStudio. –í —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–∞ R –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

## –í—ã–≤–æ–¥

–í –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –±—ã–ª–∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –∑–Ω–∞–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞ R, –∞ —Ç–∞–∫ –∂–µ —Ä–∞–∑–≤–∏—Ç—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞ dplyr.
